<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>&lt;no title&gt; &#8212; CoffeaMate 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=d45e8c67"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p># CoffeaMate – An Analysis Toolkit for Coffea and Others</p>
<p>This repository contains utilities for data analysis packages like Coffea and others. It provides various tools and scripts to facilitate data processing, analysis, and visualization.</p>
<p>## Work In Progress
- Fixing minor memory leak issue
- Implementing flattened output</p>
<p>## Table of Contents
- [CoffeaMate – An Analysis Toolkit for Coffea and Others](#coffeamate—-an-analysis-toolkit-for-coffea-and-others)</p>
<blockquote>
<div><ul>
<li><p>[Work In Progress](#work-in-progress)</p></li>
<li><p>[Table of Contents](#table-of-contents)</p></li>
<li><p>[Features](#features)</p></li>
<li><p>[Useful Classes Overview](#useful-classes-overview)
- [<cite>JobLoader</cite> Class](#jobloader-class)
- [<cite>JobRunner</cite> Class](#jobrunner-class)
- [<cite>Processor</cite>](#processor)
- [<cite>BaseEventSelections</cite> Class](#baseeventselections-class)
- [<cite>Object</cite> Class](#object-class)
- [<cite>weightedCutflow</cite> Class](#weightedcutflow-class)
- [<cite>weightedSelection</cite> Class](#weightedselection-class)
- [<cite>CSVPlotter</cite> Class](#csvplotter-class)
- [<cite>FileSysHelper</cite> Class](#filesyshelper-class)</p>
<blockquote>
<div><ul class="simple">
<li><p>[Methods](#methods)</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[Adding as a submodule](#adding-as-a-submodule)</p></li>
</ul>
</div></blockquote>
<p>## Features
- Utilities for Coffea and other data analysis packages
- Data processing scripts
- Analysis and visualization tools</p>
<p>## Useful Classes Overview</p>
<p>### <cite>JobLoader</cite> Class</p>
<p>The <cite>JobLoader</cite> class is responsible for loading meta job files and preparing them for processing by slicing the files into smaller jobs. It handles the initialization of paths, checking for existing paths, and writing job parameters to JSON files.</p>
<p>### <cite>JobRunner</cite> Class</p>
<p>The <cite>JobRunner</cite> class is responsible for initializing and managing the submission of jobs based on the provided run settings, job file, and event selection class. It supports both synchronous and asynchronous (WIP) job submission using a Dask client.</p>
<p>### <cite>Processor</cite></p>
<p>The <cite>Processor</cite> class is designed to handle the processing of datasets, including initialization, directory setup, and remote file loading/transferring.</p>
<p>### <cite>BaseEventSelections</cite> Class</p>
<p>The <cite>BaseEventSelections</cite> class serves as a base class for event selections. It provides a framework for applying various selection criteria to events based on trigger, object, and mapping configurations.</p>
<p>### <cite>Object</cite> Class</p>
<p>The <cite>Object</cite> class is designed for handling object selections and serves as an observer of the events. It provides a framework for managing selection and mapping configurations for different objects such as Electrons, Muons, and Jets.</p>
<p>### <cite>weightedCutflow</cite> Class</p>
<p>The <cite>weightedCutflow</cite> class extends the <cite>Cutflow</cite> class and is designed to handle weighted cutflows. It provides methods for initializing, adding, and retrieving the results of the cutflow.</p>
<p>### <cite>weightedSelection</cite> Class</p>
<p>The <cite>weightedSelection</cite> class extends the <cite>PackedSelection</cite> class and represents a set of selections on a set of events with weights. It provides methods for adding selections sequentially and generating a weighted cutflow.</p>
<p>### <cite>CSVPlotter</cite> Class</p>
<p>The <cite>CSVPlotter</cite> class is designed to plot histograms and other visualizations from CSV files. It utilizes various libraries such as <cite>mplhep</cite>, <cite>matplotlib</cite>, <cite>numpy</cite>, and <cite>pandas</cite> to create and manage plots. The class is initialized with an output directory and a configuration object for plotting.</p>
<p>### <cite>FileSysHelper</cite> Class
The <cite>FileSysHelper</cite> class is a utility for performing file system operations on both local and remote file systems. It provides methods to check and create directories, as well as transfer files between directories with various options for handling existing files.</p>
<p>#### Methods
- <strong>`checkpath(pathstr, createdir=True, raiseError=False) -&gt; bool`</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Checks if a path exists. Optionally creates the directory or raises an error if the path does not exist.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p><strong>`transfer_files(srcpath, destpath, filepattern=’*’, remove=False, overwrite=False, **kwargs) -&gt; None`</strong>
- Transfers files matching a pattern from a source directory to a destination directory. Handles existing files by overwriting, renaming, or skipping them.</p></li>
</ul>
<p>## Adding as a submodule</p>
<p>To add this repository as a submodule to your existing Git repository, follow these steps:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Navigate to the root directory of your Git repository:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">cd</span> <span class="pre">/path/to/your/repo</span>
<span class="pre">`</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Add this repository as a submodule:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">add</span> <span class="pre">&lt;repository-url&gt;</span> <span class="pre">path/to/submodule</span>
<span class="pre">`</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Initialize and update the submodule:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">--init</span> <span class="pre">--recursive</span>
<span class="pre">`</span></code></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Commit the changes:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">git</span> <span class="pre">add</span> <span class="pre">.gitmodules</span> <span class="pre">path/to/submodule</span>
<span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;Add</span> <span class="pre">submodule</span> <span class="pre">for</span> <span class="pre">Coffea</span> <span class="pre">utilities&quot;</span>
<span class="pre">`</span></code></p>
</dd>
</dl>
</li>
</ol>
<p>To update the submodule to the latest version, navigate to the submodule directory and pull the latest changes:
<a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>bash
cd path/to/submodule
git pull origin main</p>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">CoffeaMate</a></h1>



<p class="blurb">Description of your project.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=your-github-username&repo=your-repo-name&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Yuntong (Joy) Zhou.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/README.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>