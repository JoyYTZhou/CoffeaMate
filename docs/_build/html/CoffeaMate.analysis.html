

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CoffeaMate.analysis package &mdash; CoffeaMate 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CoffeaMate.learning package" href="CoffeaMate.learning.html" />
    <link rel="prev" title="CoffeaMate documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            CoffeaMate
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CoffeaMate.analysis package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-CoffeaMate.analysis.evtselutil">CoffeaMate.analysis.evtselutil module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.trigcfg"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.trigcfg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.objselcfg"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.objselcfg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.mapcfg"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.mapcfg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.triggersel"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.triggersel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.setevtsel"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.setevtsel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.callevtsel"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.callevtsel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.cf_to_df"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.cf_to_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.objcollect_to_df"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.objcollect_to_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.selobjhelper"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.selobjhelper()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.saveWeights"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.saveWeights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.getObj"><code class="docutils literal notranslate"><span class="pre">BaseEventSelections.getObj()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-CoffeaMate.analysis.objutil">CoffeaMate.analysis.objutil module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object"><code class="docutils literal notranslate"><span class="pre">Object</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.events"><code class="docutils literal notranslate"><span class="pre">Object.events</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.name"><code class="docutils literal notranslate"><span class="pre">Object.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.selcfg"><code class="docutils literal notranslate"><span class="pre">Object.selcfg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.mapcfg"><code class="docutils literal notranslate"><span class="pre">Object.mapcfg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.custommask"><code class="docutils literal notranslate"><span class="pre">Object.custommask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.ptmask"><code class="docutils literal notranslate"><span class="pre">Object.ptmask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.absetamask"><code class="docutils literal notranslate"><span class="pre">Object.absetamask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.absdxymask"><code class="docutils literal notranslate"><span class="pre">Object.absdxymask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.absdzmask"><code class="docutils literal notranslate"><span class="pre">Object.absdzmask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.numselmask"><code class="docutils literal notranslate"><span class="pre">Object.numselmask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.vetomask"><code class="docutils literal notranslate"><span class="pre">Object.vetomask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.evtosmask"><code class="docutils literal notranslate"><span class="pre">Object.evtosmask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.dRwSelf"><code class="docutils literal notranslate"><span class="pre">Object.dRwSelf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.dRwOther"><code class="docutils literal notranslate"><span class="pre">Object.dRwOther()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.OSwSelf"><code class="docutils literal notranslate"><span class="pre">Object.OSwSelf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.getfourvec"><code class="docutils literal notranslate"><span class="pre">Object.getfourvec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.getzipped"><code class="docutils literal notranslate"><span class="pre">Object.getzipped()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.getldsd"><code class="docutils literal notranslate"><span class="pre">Object.getldsd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.getld"><code class="docutils literal notranslate"><span class="pre">Object.getld()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.sortmask"><code class="docutils literal notranslate"><span class="pre">Object.sortmask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.fourvector"><code class="docutils literal notranslate"><span class="pre">Object.fourvector()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.set_zipped"><code class="docutils literal notranslate"><span class="pre">Object.set_zipped()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.object_to_df"><code class="docutils literal notranslate"><span class="pre">Object.object_to_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.maskredmask"><code class="docutils literal notranslate"><span class="pre">Object.maskredmask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.dRoverlap"><code class="docutils literal notranslate"><span class="pre">Object.dRoverlap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object.get_namemap"><code class="docutils literal notranslate"><span class="pre">Object.get_namemap()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-CoffeaMate.analysis.processor">CoffeaMate.analysis.processor module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor"><code class="docutils literal notranslate"><span class="pre">Processor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.initdir"><code class="docutils literal notranslate"><span class="pre">Processor.initdir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.loadfile_remote"><code class="docutils literal notranslate"><span class="pre">Processor.loadfile_remote()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.runfiles"><code class="docutils literal notranslate"><span class="pre">Processor.runfiles()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.writeCF"><code class="docutils literal notranslate"><span class="pre">Processor.writeCF()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.writeevts"><code class="docutils literal notranslate"><span class="pre">Processor.writeevts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.writedask"><code class="docutils literal notranslate"><span class="pre">Processor.writedask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.writeak"><code class="docutils literal notranslate"><span class="pre">Processor.writeak()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.writedf"><code class="docutils literal notranslate"><span class="pre">Processor.writedf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#CoffeaMate.analysis.processor.Processor.writepickle"><code class="docutils literal notranslate"><span class="pre">Processor.writepickle()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#coffeamate-analysis-spawnjobs-module">CoffeaMate.analysis.spawnjobs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-CoffeaMate.analysis">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="CoffeaMate.learning.html">CoffeaMate.learning package</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoffeaMate.plotting.html">CoffeaMate.plotting package</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoffeaMate.utils.html">CoffeaMate.utils package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CoffeaMate</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">CoffeaMate.analysis package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/CoffeaMate.analysis.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="coffeamate-analysis-package">
<h1>CoffeaMate.analysis package<a class="headerlink" href="#coffeamate-analysis-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-CoffeaMate.analysis.evtselutil">
<span id="coffeamate-analysis-evtselutil-module"></span><h2>CoffeaMate.analysis.evtselutil module<a class="headerlink" href="#module-CoffeaMate.analysis.evtselutil" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CoffeaMate.analysis.evtselutil.</span></span><span class="sig-name descname"><span class="pre">BaseEventSelections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trigcfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objselcfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapcfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequential</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for event selections.</p>
<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.trigcfg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trigcfg</span></span><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.trigcfg" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.objselcfg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">objselcfg</span></span><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.objselcfg" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.mapcfg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mapcfg</span></span><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.mapcfg" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.triggersel">
<span class="sig-name descname"><span class="pre">triggersel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.triggersel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.triggersel" title="Link to this definition"></a></dt>
<dd><p>Custom function to set the object selections on event levels based on config.
Mask should be N*bool 1-D array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.setevtsel">
<span class="sig-name descname"><span class="pre">setevtsel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.setevtsel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.setevtsel" title="Link to this definition"></a></dt>
<dd><p>Custom function to set the object selections based on config.
Mask should be N*bool 1-D array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>events</strong> – events loaded from a .root file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.callevtsel">
<span class="sig-name descname"><span class="pre">callevtsel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wgtname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.callevtsel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.callevtsel" title="Link to this definition"></a></dt>
<dd><p>Apply all the selections in line on the events
Parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>passed events, vetoed events</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.cf_to_df">
<span class="sig-name descname"><span class="pre">cf_to_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.cf_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.cf_to_df" title="Link to this definition"></a></dt>
<dd><p>Return a dataframe for a single EventSelections.cutflow object.
DASK GETS COMPUTED!
:return: cutflow df
:rtype: pandas.DataFrame</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.objcollect_to_df">
<span class="sig-name descname"><span class="pre">objcollect_to_df</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.objcollect_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.objcollect_to_df" title="Link to this definition"></a></dt>
<dd><p>Return a dataframe for the collected objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.selobjhelper">
<span class="sig-name descname"><span class="pre">selobjhelper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object" title="CoffeaMate.analysis.objutil.Object"><span class="pre">Object</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Array</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object" title="CoffeaMate.analysis.objutil.Object"><span class="pre">Object</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Array</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.selobjhelper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.selobjhelper" title="Link to this definition"></a></dt>
<dd><p>Update event level and object level. Apply the reducing mask on the objects already booked as well as the events.</p>
<ul class="simple">
<li><p><cite>mask</cite>: event-shaped array.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.saveWeights">
<span class="sig-name descname"><span class="pre">saveWeights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Generator_weight',</span> <span class="pre">'LHEReweightingWeight']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.saveWeights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.saveWeights" title="Link to this definition"></a></dt>
<dd><p>Save weights to the collected objects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.evtselutil.BaseEventSelections.getObj">
<span class="sig-name descname"><span class="pre">getObj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#CoffeaMate.analysis.objutil.Object" title="CoffeaMate.analysis.objutil.Object"><span class="pre">Object</span></a></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/evtselutil.html#BaseEventSelections.getObj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.evtselutil.BaseEventSelections.getObj" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-CoffeaMate.analysis.objutil">
<span id="coffeamate-analysis-objutil-module"></span><h2>CoffeaMate.analysis.objutil module<a class="headerlink" href="#module-CoffeaMate.analysis.objutil" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CoffeaMate.analysis.objutil.</span></span><span class="sig-name descname"><span class="pre">Object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selcfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapcfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weakrefEvt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object class for handling object selections, meant as an observer of the events.</p>
<p>Attributes
- <cite>name</cite>: name of the object
- <cite>events</cite>: a weak proxy of the events
- <cite>selcfg</cite>: selection configuration for the object, {key=abbreviation, value=threshold}
- <cite>mapcfg</cite>: mapping configuration for the object
- <cite>fields</cite>: list of fields in the object</p>
<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">events</span></span><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.events" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.selcfg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">selcfg</span></span><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.selcfg" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.mapcfg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mapcfg</span></span><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.mapcfg" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.custommask">
<span class="sig-name descname"><span class="pre">custommask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.custommask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.custommask" title="Link to this definition"></a></dt>
<dd><p>Create custom mask based on input.</p>
<p>Parameters
- <cite>events</cite>: events to apply the mask on
- <cite>propname</cite>: name of the property mask is based on
- <cite>op</cite>: operator to use for the mask
- <cite>func</cite>: function to apply to the data. Defaults to None.</p>
<p>Returns
- <cite>mask</cite>: mask based on input</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.ptmask">
<span class="sig-name descname"><span class="pre">ptmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.ptmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.ptmask" title="Link to this definition"></a></dt>
<dd><p>Object Level mask for pt.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.absetamask">
<span class="sig-name descname"><span class="pre">absetamask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.absetamask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.absetamask" title="Link to this definition"></a></dt>
<dd><p>Object Level mask for <a href="#id1"><span class="problematic" id="id2">|eta|</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.absdxymask">
<span class="sig-name descname"><span class="pre">absdxymask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.absdxymask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.absdxymask" title="Link to this definition"></a></dt>
<dd><p>Object Level mask for <a href="#id3"><span class="problematic" id="id4">|dxy|</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.absdzmask">
<span class="sig-name descname"><span class="pre">absdzmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.absdzmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.absdzmask" title="Link to this definition"></a></dt>
<dd><p>Object Level mask for <a href="#id5"><span class="problematic" id="id6">|dz|</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.numselmask">
<span class="sig-name descname"><span class="pre">numselmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.numselmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.numselmask" title="Link to this definition"></a></dt>
<dd><p>Returns event-level boolean mask.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.vetomask">
<span class="sig-name descname"><span class="pre">vetomask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.vetomask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.vetomask" title="Link to this definition"></a></dt>
<dd><p>Returns the veto mask for events.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.evtosmask">
<span class="sig-name descname"><span class="pre">evtosmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selmask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.evtosmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.evtosmask" title="Link to this definition"></a></dt>
<dd><p>Create mask on events with OS objects.
!!! Note that this mask is applied per event, not per object.
1 for events with 2 OS objects that pass selmask</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.dRwSelf">
<span class="sig-name descname"><span class="pre">dRwSelf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.dRwSelf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.dRwSelf" title="Link to this definition"></a></dt>
<dd><p>Haphazard way to select pairs of objects</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.dRwOther">
<span class="sig-name descname"><span class="pre">dRwOther</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.dRwOther"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.dRwOther" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.OSwSelf">
<span class="sig-name descname"><span class="pre">OSwSelf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.OSwSelf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.OSwSelf" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.getfourvec">
<span class="sig-name descname"><span class="pre">getfourvec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.getfourvec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.getfourvec" title="Link to this definition"></a></dt>
<dd><p>Get four vector for the object from the currently observed events.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.getzipped">
<span class="sig-name descname"><span class="pre">getzipped</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pt'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.getzipped"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.getzipped" title="Link to this definition"></a></dt>
<dd><p>Get zipped object.</p>
<p>Parameters
- <cite>mask</cite>: mask must be same dimension as any object attributes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.getldsd">
<span class="sig-name descname"><span class="pre">getldsd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Array</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Array</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.getldsd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.getldsd" title="Link to this definition"></a></dt>
<dd><p>Returns the zipped leading object and the rest of the objects (aka subleading candidates).
All properties in obj setting included.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.getld">
<span class="sig-name descname"><span class="pre">getld</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.getld"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.getld" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.sortmask">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sortmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfarr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.sortmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.sortmask" title="Link to this definition"></a></dt>
<dd><p>Wrapper around awkward argsort function.</p>
<p>Parameters
- <cite>dfarr</cite>: the data arr to be sorted</p>
<p>kwargs: see ak.argsort</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.fourvector">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fourvector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.fourvector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.fourvector" title="Link to this definition"></a></dt>
<dd><p>Returns a fourvector from the events.</p>
<p>Parameters
- <cite>events</cite>: the events to extract the fourvector from.
- <cite>objname</cite>: the name of the field in the events that contains the fourvector information.
- <cite>sort</cite>: whether to sort the fourvector
- <cite>sortname</cite>: the name of the field to sort the fourvector by.
- <cite>ascending</cite>: whether to sort the fourvector in ascending order.</p>
<p>Return
- a fourvector object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.set_zipped">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_zipped</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namemap</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.set_zipped"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.set_zipped" title="Link to this definition"></a></dt>
<dd><p>Given events, read only object-related observables and zip them into ak.
Then zip the dict into an object.</p>
<p>Parameters
- <cite>events</cite>: events to extract the object from
- <cite>namemap</cite>: mapping configuration for the object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.object_to_df">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zipped</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.object_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.object_to_df" title="Link to this definition"></a></dt>
<dd><p>Take a zipped object, compute it if needed, turn it into a dataframe</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.maskredmask">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">maskredmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.maskredmask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.maskredmask" title="Link to this definition"></a></dt>
<dd><p>Reduces the mask to event level selections.
Count is the number of objects per event that should return true in the mask.</p>
<p>Parameters
- <cite>mask</cite>: the mask to be reduced
- <cite>op</cite>: the operator to be used for the reduction
- <cite>count</cite>: the count to be used for the reduction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.dRoverlap">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dRoverlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">veclist:</span> <span class="pre">~vector.backends.awkward_constructors.Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold=0.4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op=&lt;built-in</span> <span class="pre">function</span> <span class="pre">ge&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.dRoverlap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.dRoverlap" title="Link to this definition"></a></dt>
<dd><p>Return deltaR mask. Default comparison threshold is 0.4. Default comparison is &gt;=.</p>
<p>Parameters
- <cite>vec</cite>: the vector to compare with
- <cite>veclist</cite>: the list of vectors to compare against vec
- <cite>threshold</cite>: the threshold for the comparison</p>
<p>Return
- a mask of the veclist that satisfies the comparison condition.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.objutil.Object.get_namemap">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_namemap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namemap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/objutil.html#Object.get_namemap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.objutil.Object.get_namemap" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-CoffeaMate.analysis.processor">
<span id="coffeamate-analysis-processor-module"></span><h2>CoffeaMate.analysis.processor module<a class="headerlink" href="#module-CoffeaMate.analysis.processor" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CoffeaMate.analysis.processor.</span></span><span class="sig-name descname"><span class="pre">Processor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rtcfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dsdict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transferP=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evtselclass=&lt;class</span> <span class="pre">'CoffeaMate.analysis.evtselutil.BaseEventSelections'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Process individual file or filesets given strings/dicts belonging to one dataset.</p>
<p>Attributes
- <cite>rtcfg</cite>: runtime configuration object
- <cite>dsdict</cite>: dictionary containing file information
- <cite>dataset</cite>: dataset name
- <cite>evtsel_kwargs</cite>: keyword arguments for event selection class
- <cite>evtselclass</cite>: event selection class
- <cite>transfer</cite>: transfer object
- <cite>filehelper</cite>: file system helper object
- <cite>outdir</cite>: output directory
- <cite>evtsel</cite>: event selection object alive</p>
<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.initdir">
<span class="sig-name descname"><span class="pre">initdir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.initdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.initdir" title="Link to this definition"></a></dt>
<dd><p>Initialize the output directory and copy directory if necessary.
If the copy directory is specified, it will be created and checked.
The output directory will be checked and created if necessary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.loadfile_remote">
<span class="sig-name descname"><span class="pre">loadfile_remote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.loadfile_remote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.loadfile_remote" title="Link to this definition"></a></dt>
<dd><p>This is a wrapper function around uproot._dask.</p>
<ul class="simple">
<li><p><cite>fileargs</cite>: {“files”: {filename1: fileinfo1}, …}</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.runfiles">
<span class="sig-name descname"><span class="pre">runfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">write_npz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.runfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.runfiles" title="Link to this definition"></a></dt>
<dd><p>Run test selections on file dictionaries.</p>
<p>Parameters
- write_npz: if write cutflow out</p>
<p>Returns
- number of failed files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.writeCF">
<span class="sig-name descname"><span class="pre">writeCF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.writeCF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.writeCF" title="Link to this definition"></a></dt>
<dd><p>Write the cutflow to a file. Transfer the file if necessary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.writeevts">
<span class="sig-name descname"><span class="pre">writeevts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.writeevts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.writeevts" title="Link to this definition"></a></dt>
<dd><p>Write the events to a file, filename formated as {dataset}_{suffix}*.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.writedask">
<span class="sig-name descname"><span class="pre">writedask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parquet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.writedask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.writedask" title="Link to this definition"></a></dt>
<dd><p>Wrapper around uproot.dask_write(),
transfer all root files generated to a destination location.</p>
<p>Parameters:
- <cite>parquet</cite>: if True, write to parquet instead of root</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.writeak">
<span class="sig-name descname"><span class="pre">writeak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.writeak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.writeak" title="Link to this definition"></a></dt>
<dd><p>Writes an awkward array to a root file. Wrapper around ak_to_root.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.writedf">
<span class="sig-name descname"><span class="pre">writedf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.writedf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.writedf" title="Link to this definition"></a></dt>
<dd><p>Writes a pandas DataFrame to a csv file.</p>
<p>Parameters:
- <cite>passed</cite>: DataFrame to write
- <cite>suffix</cite>: index to append to filename</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CoffeaMate.analysis.processor.Processor.writepickle">
<span class="sig-name descname"><span class="pre">writepickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/CoffeaMate/analysis/processor.html#Processor.writepickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CoffeaMate.analysis.processor.Processor.writepickle" title="Link to this definition"></a></dt>
<dd><p>Writes results to pkl. No constraints on events type.</p>
</dd></dl>

</dd></dl>

</section>
<section id="coffeamate-analysis-spawnjobs-module">
<h2>CoffeaMate.analysis.spawnjobs module<a class="headerlink" href="#coffeamate-analysis-spawnjobs-module" title="Link to this heading"></a></h2>
</section>
<section id="module-CoffeaMate.analysis">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-CoffeaMate.analysis" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="CoffeaMate documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CoffeaMate.learning.html" class="btn btn-neutral float-right" title="CoffeaMate.learning package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Joy Zhou.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>